<!DOCTYPE html>
<html data-bs-theme="light" lang="ko" dir="ltr" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>로그인</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta name="description" content="fervor" />
    <meta name="keywords" content="fervor" />
    <meta name="author" content="" />
    <meta name="MobileOptimized" content="320" />
    <link rel="icon" type="image/png" href="/love/assets/images/favicon.png">
    <link rel="stylesheet" type="text/css" href="/love/assets/css/fonts.css">
    	<link rel="stylesheet" type="text/css" href="/love/assets/css/font-awesome.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/love/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/love/assets/css/owl.carousel.css" />
    <link rel="stylesheet" type="text/css" href="/love/assets/css/animate.css">
    <link rel="stylesheet" type="text/css" href="/love/assets/css/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="/love/assets/css/style.css">
    <link rel="stylesheet" type="text/css" href="/love/assets/css/responsive.css">
</head>

<body>
    <div class="preloder" id="preloder">
        <div class="heart">
            <div class="heart-piece-0"></div>
            <div class="heart-piece-1"></div>
            <div class="heart-piece-2"></div>
            <div class="heart-piece-3"></div>
            <div class="heart-piece-4"></div>
            <div class="heart-piece-5"></div>
            <div class="heart-piece-6"></div>
            <div class="heart-piece-7"></div>
            <div class="heart-piece-8"></div>
            <p>loading...</p>
        </div>
    </div>
    <div class="main-singin-box">
        <div class="leftside">
            <div class="air-balloon one">
                <img src="/love/assets/images/404-balloon.png" alt="404-balloon">
            </div>
            <div class="air-balloon two">
                <img src="/love/assets/images/404-balloon.png" alt="404-balloon">
            </div>
            <div class="air-balloon three">
                <img src="/love/assets/images/404-balloon.png" alt="404-balloon">
            </div>
            <div class="air-balloon foure">
                <img src="/love/assets/images/404-balloon.png" alt="404-balloon">
            </div>
        </div>
        <div class="container">
            <div class="singin-box">
                <div class="singin-left">
                    <div class="logo">
                        <img src="/love/assets/images/logo.png" alt="logo">
                    </div>
                    <ul class="login-btns">
                        <li>
                            <a href="javascript:;" class="btn-fb"><i class="fab fa-facebook-f" style="margin-right: 8px;"></i>Facebook으로 로그인</a>
                        </li>
                        <li>
                            <a href="javascript:;" class="btn-g"><i class="fab fa-google" style="margin-right: 8px;"></i>Google으로 로그인</a>
                        </li>
                    </ul>
                    <a href="/love/member/SignupUserForm" class="tag">회원가입</a>
                </div>
                <div class="singin-right">
                    <div class="main-form">
                        <img src="/love/assets/images/login-logo-Image.png" alt="logo" style="max-width: 200px; display: block; margin: 0 auto; cursor: default;">
                        <form th:action="@{/register}" method="post" enctype="multipart/form-data" novalidate id="registerForm">
                           <div class="row">
                           	<div class="mb-3">
                            <div class="form-input">
                                <input type="text" name="userId" id="userId" placeholder="아이디(ID)"
                                    required>
                                <label for="userId"><i class="fas fa-id-card"></i></label>
                              </div>                            
                            </div>
                           <div class="mb-3">
                            <div class="form-input">
                                <input type="password" name="password" id="password" placeholder="비밀번호"
                                    required>
                                <label for="password"><i class="fas fa-lock"></i></label>
                                </div>
                            </div>
                           </div>
                            <div class="form-input-checkbox">
                                <input type="checkbox" name="rememberme" id="rememberme">
                                <label for="rememberme">아이디 저장</label>
                                <a href="/love/member/findPassword">비밀번호 찾기</a>
                            </div>
                            <div class="form-input">
                                <button class="main-btn" type="button">로그인</button>
                            </div>
                        </form>
                        
                        
                        <p>처음 이신가요? <a href="/love/member/SignupUserForm">회원가입</a> </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="rightside">
            <div class="air-balloon one">
                <img src="/love/assets/images/404-balloon.png" alt="404-balloon">
            </div>
            <div class="air-balloon two">
                <img src="/love/assets/images/404-balloon.png" alt="404-balloon">
            </div>
            <div class="air-balloon three">
                <img src="/love/assets/images/404-balloon.png" alt="404-balloon">
            </div>
            <div class="air-balloon foure">
                <img src="/love/assets/images/404-balloon.png" alt="404-balloon">
            </div>
        </div>
    </div>
	<!-- 로그인 오류 모달 -->
	<div class="modal fade" id="loginErrorModal" tabindex="-1" role="dialog" aria-labelledby="loginErrorModalLabel" aria-hidden="true">
	    <div class="modal-dialog" role="document">
	        <div class="modal-content">
	            <div class="modal-header">
	                <h5 class="modal-title" id="loginErrorModalLabel">로그인 오류</h5>
	                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                    <span aria-hidden="true">&times;</span>
	                </button>
	            </div>
	            <div class="modal-body">
	                아이디 또는 비밀번호가 일치하지 않습니다.
	            </div>
	            <div class="modal-footer">
	                <button type="button" class="btn btn-secondary" data-dismiss="modal">확인</button>
	            </div>
	        </div>
	    </div>
	</div>
	
    <script src="/love/assets/js/jquery-3.6.0.min.js"></script>
    <script src="/love/assets/js/jquery-ui.min.js"></script>
    <script src="/love/assets/js/bootstrap.min.js"></script>
    <script src="/love/assets/js/bootstrap.bundle.js"></script>
    <script src="/love/assets/js/vanilla-tilt.min.js"></script>
    <script src="/love/assets/js/owl.carousel.js"></script>
    <script src="/love/assets/js/range-slider.js"></script>
    <script src="/love/assets/js/custom.js"></script>
    <script src="/love/assets/js/constant.js"></script>
    
    <script>
    $(document).ready(function() {
        
        $(window).on("load resize", function () {
            var windowHeight = $(window).height();
            $(".main-singin-box").css({ 
                "min-height": windowHeight,
                "height": "auto"
            });
        });
    });
    
    $(".main-btn").on("click", function() {
    	if (!validation()) {
    		return;
    	}
    });
    
    $(".main-btn").on("click", function() {
        if (!validation()) {
            $("#loginErrorModal").modal("show");
            return;
        }
        // 유효성 검사 통과 시 폼 제출
        $("#registerForm").submit();
    });
    
    function validation() {
		let count = $(".form-input").length;
    	
    	$(".valid").remove();
    	$("#termsAgreed").next().css("color", "");
    	
    	for(let i = 0; i < count; i++) {
    		if ($(".form-input").eq(i).find("input[type=text]").length > 0) {
    			let value = $(".form-input").eq(i).find("input[type=text]").val();
    			
    			if ($(".form-input").eq(i).find("input[type=text]").attr("id") === "userId") {
    				if (value === "") {
    					let text = "<div class='valid' style='color: red;''>아이디를 입력해주세요.</div>";
    					$(".mb-3").eq(i).append(text);
    					return false;
    				} else if (!ID_CHECK.test(value)) {
    					return false;
    				}
    			}
    		} else if ($(".form-input").eq(i).find("input[type=password]").length > 0) {
    			let value = $(".form-input").eq(i).find("input[type=password]").val();
    			
    			if ($(".form-input").eq(i).find("input[type=password]").attr("id") === "password") {
    				if (value === "") {
    					let text = "<div class='valid' style='color: red;''>비밀번호를 입력해주세요.</div>";
    					$(".mb-3").eq(i).append(text);
    					return false;
    				} else if (!PASSWORD_CHECK.test(value)) {
    					return false;
    				}
    			} else if ($(".form-input").eq(i).find("input[type=password]").attr("id") === "confirmPassword") {
    				if (value === "" || value !== $("#password").val()) {
    					return false;
    				}
    			}
    		}  
    	}
    	
    	if (!$("#termsAgreed").is(":checked")) {
    		$("#termsAgreed").next().css("color", "red");
    		return false;
    	}
    	return true;
    }
    </script>
</body>

</html>